<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title - EntrevistIA</title>

    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <link rel="stylesheet" href="~/Content/style.css">

    @RenderSection("styles", required: false)
</head>
<body>

    <nav class="navbar">
        <div class="container nav-flex">
            <div class="logo">
                <div class="logo-icon blue-grad">🧠</div>
                <span>EntrevistIA</span>
            </div>

            <div class="nav-links">
                <a href="@Url.Action("Index", "Home")">Inicio</a>

                @if (Session["Nombre"] != null)
                {
                    <div class="profile-menu-container">
                        <div class="user-nav-pill" onclick="toggleProfileMenu()">
                            <div class="nav-avatar">@Session["Nombre"].ToString().Substring(0, 2).ToUpper()</div>
                            <span class="nav-username">@Session["Nombre"]</span>
                            <span class="dropdown-arrow">▼</span>
                        </div>

                        <div id="profileDropdown" class="profile-dropdown-content">
                            <div class="dropdown-header">
                                <strong>@Session["Nombre"]</strong>
                                <span>@Session["Email"]</span>
                            </div>
                            <hr />
                            <a href="@Url.Action("PerfilCliente", "Home")" class="dropdown-item">
                                <span class="icon">👤</span> Mi Perfil
                            </a>
                            <a href="@Url.Action("InicioCliente", "Home")" class="dropdown-item">
                                <span class="icon">📊</span> Dashboard
                            </a>
                            <hr />
                            <a href="javascript:void(0)" onclick="confirmLogout()" class="dropdown-item logout">
                                <span class="icon">🚪</span> Cerrar Sesión
                            </a>
                        </div>
                    </div>
                }
                else
                {

                    <a href="@Url.Action("Login", "Home")" class="btn-login">Iniciar Sesión</a>
                }
            </div>
        </div>
    </nav>

    <main>
        @RenderBody()
    </main>

    <footer class="footer">
        <div class="container footer-grid">
            <div class="footer-brand">
                <div class="logo light">EntrevistIA</div>
                <p>Potenciando carreras con IA.</p>
            </div>
            <div class="footer-copy">
                <p>&copy; @DateTime.Now.Year EntrevistIA. Desarrollado por el equipo de expertos.</p>
            </div>
        </div>
    </footer>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init({ duration: 1000, once: true });
    </script>
    @RenderSection("scripts", required: false)

<script>
    function toggleProfileMenu() {
        const menu = document.getElementById("profileDropdown");
        if (menu) menu.classList.toggle("show");
    }

    // Cerrar si el usuario hace clic en otro lado
    window.addEventListener('click', function(e) {
        const container = document.querySelector('.profile-menu-container');
        if (container && !container.contains(e.target)) {
            document.getElementById("profileDropdown").classList.remove("show");
        }
    });

    // Pregunta de confirmación para salir
    function confirmLogout() {
        const respuesta = confirm("¿Estás seguro de que deseas cerrar tu sesión en EntrevistIA?");
        if (respuesta) {
    
            window.location.href = "@Url.Action("Login", "Home")";
        }
    }


    function confirmLogout() {
        const respuesta = confirm("¿Estás seguro de que deseas cerrar tu sesión en EntrevistIA?");
        if (respuesta) {
    
            window.location.href = "@Url.Action("Login", "Home")";
        }
    }

    

</script>
    
</body>
</html>